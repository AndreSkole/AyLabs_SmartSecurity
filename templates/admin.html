<!DOCTYPE html>
<html>
<head>
    <title>Admin Panel</title>
    <style>
        body { font-family: Arial; margin: 40px; }
        button { padding: 12px; margin: 10px; font-size: 18px; }
        nav a { margin-right: 20px; font-size: 18px; }
    </style>
</head>
<body>

<nav>
    <a href="/">Home</a>
    <a href="/admin">Admin</a>
    <a href="/logs">Logs</a>
</nav>

<h1>Admin Panel</h1>

<h3>Registrer nytt ansikt</h3>
<input type="text" id="name" placeholder="Skriv navn">
<button onclick="capture()">Ta bilde</button>

<h3>Trening</h3>
<button onclick="train()">Train Model</button>

<h3>Reset</h3>
<button style="background:red;color:white;" onclick="resetAll()">Slett alt (bilder + trening + logs)</button>

<script>
function capture() {
    let name = document.getElementById("name").value;

    fetch("/capture", {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: "name=" + name
    })
    .then(res => res.json())
    .then(data => alert(JSON.stringify(data)));
}

function train() {
    fetch("/train", { method: "POST" })
    .then(res => res.json())
    .then(data => alert("Model trained!"));
}

function resetAll() {
    if (!confirm("Er du sikker? Alt blir slettet?")) return;

    fetch("/delete_all", { method: "POST" })
    .then(res => res.json())
    .then(data => alert(data.message));
}
</script>

</body>
</html>
